@page
@model City_Feedback.Pages.ObcinaModel
@{
    ViewData["Title"] = "Upravljanje - Občina";
}

<div class="container mt-5">
    <h1 class="text-center mb-4">Administracija Občine</h1>

    <table class="table table-hover shadow-sm">
        <thead class="table-dark">
            <tr>
                <th>Naslov</th>
                <th>Opis</th>
                <th>Všečkov</th>
                <th>Status</th>
            </tr>
        </thead>
        <tbody>
            @foreach (var item in Model.PrijaveZaObcino)
            {
                <tr class="@(item.JeReseno ? "table-success" : "")">
                    <td class="fw-bold">@item.Naslov</td>
                    <td>@item.Opis</td>
                    <td class="text-center">@item.SteviloVseckov ❤️</td>
                    <td>
                        <div class="d-flex gap-2">
                            <form method="post" asp-page-handler="OznaciKotReseno" asp-route-id="@item.Id">
                                <button type="submit"
                                        class="btn btn-sm @(item.JeReseno ? "btn-success" : "btn-outline-success")">
                                    Označi kot opravljeno
                                </button>
                            </form>

                            <form method="post" asp-page-handler="OznaciKotVObdelavi" asp-route-id="@item.Id">
                                <button type="submit"
                                        class="btn btn-sm @(!item.JeReseno ? "btn-warning" : "btn-outline-warning")">
                                    Označi v obdelavi
                                </button>
                            </form>
                        </div>
                    </td>

                </tr>
            }
        </tbody>
    </table>
</div>
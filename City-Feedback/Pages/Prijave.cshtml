@page
@model PrijaveModel
@{
    ViewData["Title"] = "Prijave";
}

<div class="container">
    <div class="text-center mb-5">
        <h1 class="display-4">Nova prijava</h1>
    </div>

    @if (TempData["Message"] != null)
    {
        <div class="alert alert-success alert-dismissible fade show" role="alert">
            @TempData["Message"]
            <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
        </div>
    }

    @if (TempData["Error"] != null)
    {
        <div class="alert alert-danger alert-dismissible fade show" role="alert">
            @TempData["Error"]
            <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
        </div>
    }

    <div asp-validation-summary="ModelOnly" class="alert alert-danger" role="alert"></div>

    <div class="row justify-content-center">
        <div class="col-md-8 col-lg-6">
            <div class="card shadow-sm p-4">
                <form method="post" enctype="multipart/form-data">

                    <div class="mb-3">
                        <label asp-for="Title" class="form-label fw-bold">Naslov prijave</label>
                        <input asp-for="Title" class="form-control" placeholder="Vnesite kratek naslov..." />
                        <span asp-validation-for="Title" class="text-danger"></span>
                    </div>

                    <div class="mb-3">
                        <label asp-for="Category" class="form-label fw-bold">Kategorija</label>
                        <select asp-for="Category" class="form-select">
                            <option value="Ceste">🛣️ Ceste</option>
                            <option value="Javna razsvetljava">💡 Javna razsvetljava</option>
                            <option value="Parki in zelenice">🌳 Parki in zelenice</option>
                            <option value="Odpadki">🗑️ Odpadki</option>
                            <option value="Javni prevoz">🚌 Javni prevoz</option>
                            <option value="Vandalizem">⚠️ Vandalizem</option>
                            <option value="Ostalo">📋 Ostalo</option>
                        </select>
                        <span asp-validation-for="Category" class="text-danger"></span>
                    </div>

                    <div class="mb-3">
                        <label asp-for="Obcina" class="form-label fw-bold">Občina</label>
                        <select asp-for="Obcina" class="form-select">
                            <option value="">Izberite občino</option>
                            <option value="Ajdovščina">Ajdovščina</option>
                            <option value="Ankaran">Ankaran</option>
                            <option value="Apače">Apače</option>
                            <option value="Beltinci">Beltinci</option>
                            <option value="Benedikt">Benedikt</option>
                            <option value="Bistrica ob Sotli">Bistrica ob Sotli</option>
                            <option value="Bled">Bled</option>
                            <option value="Bloke">Bloke</option>
                            <option value="Bohinj">Bohinj</option>
                            <option value="Borovnica">Borovnica</option>
                            <option value="Bovec">Bovec</option>
                            <option value="Braslovče">Braslovče</option>
                            <option value="Brda">Brda</option>
                            <option value="Brežice">Brežice</option>
                            <option value="Brezovica">Brezovica</option>
                            <option value="Cankova">Cankova</option>
                            <option value="Celje">Celje</option>
                            <option value="Cerklje na Gorenjskem">Cerklje na Gorenjskem</option>
                            <option value="Cerknica">Cerknica</option>
                            <option value="Cerkno">Cerkno</option>
                            <option value="Cerkvenjak">Cerkvenjak</option>
                            <option value="Cirkulane">Cirkulane</option>
                            <option value="Črenšovci">Črenšovci</option>
                            <option value="Črna na Koroškem">Črna na Koroškem</option>
                            <option value="Črnomelj">Črnomelj</option>
                            <option value="Destrnik">Destrnik</option>
                            <option value="Divača">Divača</option>
                            <option value="Dobje">Dobje</option>
                            <option value="Dobrepolje">Dobrepolje</option>
                            <option value="Dobrna">Dobrna</option>
                            <option value="Dobrova-Polhov Gradec">Dobrova-Polhov Gradec</option>
                            <option value="Dobrovnik">Dobrovnik</option>
                            <option value="Dol pri Ljubljani">Dol pri Ljubljani</option>
                            <option value="Dolenjske Toplice">Dolenjske Toplice</option>
                            <option value="Domžale">Domžale</option>
                            <option value="Dornava">Dornava</option>
                            <option value="Dravograd">Dravograd</option>
                            <option value="Duplek">Duplek</option>
                            <option value="Gorenja vas-Poljane">Gorenja vas-Poljane</option>
                            <option value="Gorišnica">Gorišnica</option>
                            <option value="Gorje">Gorje</option>
                            <option value="Gornja Radgona">Gornja Radgona</option>
                            <option value="Gornji Grad">Gornji Grad</option>
                            <option value="Gornji Petrovci">Gornji Petrovci</option>
                            <option value="Grad">Grad</option>
                            <option value="Grosuplje">Grosuplje</option>
                            <option value="Hajdina">Hajdina</option>
                            <option value="Hoče-Slivnica">Hoče-Slivnica</option>
                            <option value="Hodoš">Hodoš</option>
                            <option value="Horjul">Horjul</option>
                            <option value="Hrastnik">Hrastnik</option>
                            <option value="Hrpelje-Kozina">Hrpelje-Kozina</option>
                            <option value="Idrija">Idrija</option>
                            <option value="Ig">Ig</option>
                            <option value="Ilirska Bistrica">Ilirska Bistrica</option>
                            <option value="Ivančna Gorica">Ivančna Gorica</option>
                            <option value="Izola">Izola</option>
                            <option value="Jesenice">Jesenice</option>
                            <option value="Jezersko">Jezersko</option>
                            <option value="Juršinci">Juršinci</option>
                            <option value="Kamnik">Kamnik</option>
                            <option value="Kanal">Kanal</option>
                            <option value="Kidričevo">Kidričevo</option>
                            <option value="Kobarid">Kobarid</option>
                            <option value="Kobilje">Kobilje</option>
                            <option value="Kočevje">Kočevje</option>
                            <option value="Komen">Komen</option>
                            <option value="Komenda">Komenda</option>
                            <option value="Koper">Koper</option>
                            <option value="Kostanjevica na Krki">Kostanjevica na Krki</option>
                            <option value="Kostel">Kostel</option>
                            <option value="Kozje">Kozje</option>
                            <option value="Kranj">Kranj</option>
                            <option value="Kranjska Gora">Kranjska Gora</option>
                            <option value="Križevci">Križevci</option>
                            <option value="Kungota">Kungota</option>
                            <option value="Kuzma">Kuzma</option>
                            <option value="Laško">Laško</option>
                            <option value="Lenart">Lenart</option>
                            <option value="Lendava">Lendava</option>
                            <option value="Litija">Litija</option>
                            <option value="Ljubljana">Ljubljana</option>
                            <option value="Ljubno">Ljubno</option>
                            <option value="Ljutomer">Ljutomer</option>
                            <option value="Log-Dragomer">Log-Dragomer</option>
                            <option value="Logatec">Logatec</option>
                            <option value="Loška dolina">Loška dolina</option>
                            <option value="Loški Potok">Loški Potok</option>
                            <option value="Lovrenc na Pohorju">Lovrenc na Pohorju</option>
                            <option value="Luče">Luče</option>
                            <option value="Lukovica">Lukovica</option>
                            <option value="Majšperk">Majšperk</option>
                            <option value="Makole">Makole</option>
                            <option value="Maribor">Maribor</option>
                            <option value="Markovci">Markovci</option>
                            <option value="Medvode">Medvode</option>
                            <option value="Mengeš">Mengeš</option>
                            <option value="Metlika">Metlika</option>
                            <option value="Mežica">Mežica</option>
                            <option value="Miklavž na Dravskem polju">Miklavž na Dravskem polju</option>
                            <option value="Miren-Kostanjevica">Miren-Kostanjevica</option>
                            <option value="Mirna">Mirna</option>
                            <option value="Mirna Peč">Mirna Peč</option>
                            <option value="Mislinja">Mislinja</option>
                            <option value="Mokronog-Trebelno">Mokronog-Trebelno</option>
                            <option value="Moravče">Moravče</option>
                            <option value="Moravske Toplice">Moravske Toplice</option>
                            <option value="Mozirje">Mozirje</option>
                            <option value="Murska Sobota">Murska Sobota</option>
                            <option value="Muta">Muta</option>
                            <option value="Naklo">Naklo</option>
                            <option value="Nazarje">Nazarje</option>
                            <option value="Nova Gorica">Nova Gorica</option>
                            <option value="Novo mesto">Novo mesto</option>
                            <option value="Odranci">Odranci</option>
                            <option value="Oplotnica">Oplotnica</option>
                            <option value="Ormož">Ormož</option>
                            <option value="Osilnica">Osilnica</option>
                            <option value="Pesnica">Pesnica</option>
                            <option value="Piran">Piran</option>
                            <option value="Pivka">Pivka</option>
                            <option value="Podčetrtek">Podčetrtek</option>
                            <option value="Podlehnik">Podlehnik</option>
                            <option value="Podvelka">Podvelka</option>
                            <option value="Poljčane">Poljčane</option>
                            <option value="Polzela">Polzela</option>
                            <option value="Postojna">Postojna</option>
                            <option value="Prebold">Prebold</option>
                            <option value="Preddvor">Preddvor</option>
                            <option value="Prevalje">Prevalje</option>
                            <option value="Ptuj">Ptuj</option>
                            <option value="Puconci">Puconci</option>
                            <option value="Rače-Fram">Rače-Fram</option>
                            <option value="Radeče">Radeče</option>
                            <option value="Radenci">Radenci</option>
                            <option value="Radlje ob Dravi">Radlje ob Dravi</option>
                            <option value="Radovljica">Radovljica</option>
                            <option value="Ravne na Koroškem">Ravne na Koroškem</option>
                            <option value="Razkrižje">Razkrižje</option>
                            <option value="Rečica ob Savinji">Rečica ob Savinji</option>
                            <option value="Renče-Vogrsko">Renče-Vogrsko</option>
                            <option value="Ribnica">Ribnica</option>
                            <option value="Ribnica na Pohorju">Ribnica na Pohorju</option>
                            <option value="Rogaška Slatina">Rogaška Slatina</option>
                            <option value="Rogašovci">Rogašovci</option>
                            <option value="Rogatec">Rogatec</option>
                            <option value="Ruše">Ruše</option>
                            <option value="Šalovci">Šalovci</option>
                            <option value="Selnica ob Dravi">Selnica ob Dravi</option>
                            <option value="Semič">Semič</option>
                            <option value="Šempeter-Vrtojba">Šempeter-Vrtojba</option>
                            <option value="Šenčur">Šenčur</option>
                            <option value="Šentilj">Šentilj</option>
                            <option value="Šentjernej">Šentjernej</option>
                            <option value="Šentjur">Šentjur</option>
                            <option value="Šentrupert">Šentrupert</option>
                            <option value="Sevnica">Sevnica</option>
                            <option value="Sežana">Sežana</option>
                            <option value="Škocjan">Škocjan</option>
                            <option value="Škofja Loka">Škofja Loka</option>
                            <option value="Škofljica">Škofljica</option>
                            <option value="Slovenj Gradec">Slovenj Gradec</option>
                            <option value="Slovenska Bistrica">Slovenska Bistrica</option>
                            <option value="Slovenske Konjice">Slovenske Konjice</option>
                            <option value="Šmarje pri Jelšah">Šmarje pri Jelšah</option>
                            <option value="Šmarješke Toplice">Šmarješke Toplice</option>
                            <option value="Šmartno ob Paki">Šmartno ob Paki</option>
                            <option value="Šmartno pri Litiji">Šmartno pri Litiji</option>
                            <option value="Sodražica">Sodražica</option>
                            <option value="Solčava">Solčava</option>
                            <option value="Šoštanj">Šoštanj</option>
                            <option value="Središče ob Dravi">Središče ob Dravi</option>
                            <option value="Starše">Starše</option>
                            <option value="Štore">Štore</option>
                            <option value="Straža">Straža</option>
                            <option value="Sveta Ana">Sveta Ana</option>
                            <option value="Sveta Trojica v Slovenskih goricah">Sveta Trojica v Slovenskih goricah</option>
                            <option value="Sveti Andraž v Slovenskih goricah">Sveti Andraž v Slovenskih goricah</option>
                            <option value="Sveti Jurij ob Ščavnici">Sveti Jurij ob Ščavnici</option>
                            <option value="Sveti Jurij v Slovenskih goricah">Sveti Jurij v Slovenskih goricah</option>
                            <option value="Sveti Tomaž">Sveti Tomaž</option>
                            <option value="Tabor">Tabor</option>
                            <option value="Tišina">Tišina</option>
                            <option value="Tolmin">Tolmin</option>
                            <option value="Trbovlje">Trbovlje</option>
                            <option value="Trebnje">Trebnje</option>
                            <option value="Trnovska vas">Trnovska vas</option>
                            <option value="Trzin">Trzin</option>
                            <option value="Tržič">Tržič</option>
                            <option value="Turnišče">Turnišče</option>
                            <option value="Velenje">Velenje</option>
                            <option value="Velika Polana">Velika Polana</option>
                            <option value="Velike Lašče">Velike Lašče</option>
                            <option value="Veržej">Veržej</option>
                            <option value="Videm">Videm</option>
                            <option value="Vipava">Vipava</option>
                            <option value="Vitanje">Vitanje</option>
                            <option value="Vodice">Vodice</option>
                            <option value="Vojnik">Vojnik</option>
                            <option value="Vransko">Vransko</option>
                            <option value="Vrhnika">Vrhnika</option>
                            <option value="Vuzenica">Vuzenica</option>
                            <option value="Zagorje ob Savi">Zagorje ob Savi</option>
                            <option value="Žalec">Žalec</option>
                            <option value="Zavrč">Zavrč</option>
                            <option value="Železniki">Železniki</option>
                            <option value="Žetale">Žetale</option>
                            <option value="Žiri">Žiri</option>
                            <option value="Žirovnica">Žirovnica</option>
                            <option value="Zreče">Zreče</option>
                            <option value="Žužemberk">Žužemberk</option>
                        </select>
                        <span asp-validation-for="Obcina" class="text-danger"></span>
                    </div>

                    <div class="mb-3">
                        <label asp-for="Description" class="form-label fw-bold">Opis</label>
                        <textarea asp-for="Description" class="form-control" rows="4" placeholder="Opišite težavo..."></textarea>
                        <span asp-validation-for="Description" class="text-danger"></span>
                    </div>

                    <div class="mb-3">
                        <label for="Image" class="form-label">Slika</label>
                        <input type="file" id="Image" name="Image" class="form-control" accept="image/*" />
                    </div>

                    <div class="mb-3">
                        <label asp-for="Lokacija" class="form-label fw-bold">📍 Lokacija</label>
                        <input asp-for="Lokacija" class="form-control" placeholder="npr. Slovenska cesta 10, Ljubljana ali Mestni park, Maribor" required />
                        <span asp-validation-for="Lokacija" class="text-danger"></span>
                        <small class="text-muted">Vnesite naslov ali opis lokacije težave</small>
                    </div>

                    <div class="d-grid gap-2 mt-4">
                        <button type="submit" class="btn btn-primary btn-lg">Objavi</button>
                    </div>
                </form>
            </div>
        </div>
    </div>
</div>

@section Scripts {
    <partial name="_ValidationScriptsPartial" />
}